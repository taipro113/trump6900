window.CopyTheCodeToClipboard=function(e,t,o){var a;function n(){var n,c;o.userAgent.match(/ipad|iphone/i)?((n=t.createRange()).selectNodeContents(a),(c=e.getSelection()).removeAllRanges(),c.addRange(n),a.setSelectionRange(0,999999)):a.select()}return{copy:function(o){!function(e){(a=t.createElement("textArea")).value=e,t.body.appendChild(a)}(o),n(),t.execCommand("copy"),t.body.removeChild(a),copyTheCode.redirect_url&&(e.location.href=copyTheCode.redirect_url)}}}(window,document,navigator),function(e){CopyTheCode={selector:copyTheCode.settings.selector||copyTheCode.selector||"pre",button_position:copyTheCode.settings["button-position"]||"inside",init:function(){this._bind(),this._initialize()},_bind:function(){e(document).on("click",".copy-the-code-button",CopyTheCode.copyCode),e(document).on("click",".copy-the-code-shortcode",CopyTheCode.copyShortcode)},_initialize:function(){e(copyTheCode.selectors).length&&e(copyTheCode.selectors).each((function(t,o){var a=o.button_copy_text||"",n=o.button_position||"",c=o.button_text||"",p=o.button_title||"",i=o.selector||"",r=o.style||"",d=o.copy_format||"";e(i).each((function(t,o){var l=CopyTheCode._getButtonMarkup(p,c,r);switch(e(o).addClass("copy-the-code-target"),"cover"!==r&&"outside"===n?(e(o).wrap('<span data-copy-format="'+d+'" data-button-text="'+c+'" data-button-position="'+n+'" data-button-copy-text="'+a+'" data-style="'+r+'" data-button-title="'+p+'" data-selector="'+i+'" class="copy-the-code-wrap copy-the-code-style-'+r+' copy-the-code-outside-wrap"></span>'),e(o).parent().prepend('<div class="copy-the-code-outside">'+l+"</div>")):(e(o).wrap('<span data-copy-format="'+d+'" data-button-text="'+c+'" data-button-position="'+n+'" data-button-copy-text="'+a+'" data-style="'+r+'" data-button-title="'+p+'" data-selector="'+i+'" class="copy-the-code-wrap copy-the-code-style-'+r+' copy-the-code-inside-wrap"></span>'),e(o).append(l)),r){case"svg-icon":e(o).find(".copy-the-code-button").html(copyTheCode.buttonSvg);break;case"cover":case"button":default:e(o).find(".copy-the-code-button").html(c)}}))}))},_getButtonMarkup:function(e,t,o){return"svg-icon"===o&&(t=copyTheCode.buttonSvg),'<button class="copy-the-code-button" data-style="'+o+'" title="'+e+'">'+t+"</button>"},format:function(e){var t="",o="";return e.split(/>\s*</).forEach((function(e){e.match(/^\/\w/)&&(o=o.substring("\t".length)),t+=o+"<"+e+">\r\n",e.match(/^<?\w[^>]*[^\/]$/)&&!e.startsWith("input")&&(o+="\t")})),t.substring(1,t.length-3)},copyShortcode:function(t){t.preventDefault();var o=e(this),a=o.html(),n=o.attr("data-target")||"",c=o.attr("data-copy-as")||copyTheCode.copy_content_as,p=o.attr("data-button-copy-text")||"",i=o.attr("data-content")||"",r=o.attr("data-link")||"";if(i)return CopyTheCodeToClipboard.copy(i),o.text(p),void setTimeout((function(){o.html(a),r&&window.open(r,"_blank").focus()}),1e3);var d=e(n);if(!d.length)return o.text("Not found!"),void setTimeout((function(){o.text(a)}),1e3);var l=d.html();if(l=CopyTheCode.format(l),"html"!==c){var s=/<p\s*[\/]?>/gi;l=(l=(l=l.replace(/<br\s*[\/]?>/gi,"\n")).replace(/<div\s*[\/]?>/gi,"\n")).replace(s,"\n");s=/<li\s*[\/]?>/gi;l=(l=l.replace(s,"\n")).replace(/(<([^>]+)>)/gi,"")}if("html"!==c)l=l.replace(/[\t\n]+/gm," ").trim();else{var m=new RegExp("/^s+$/");l=l.replace(m,"")}var u=e("<div id='temp-element'></div>");e("body").append(u),l=e.trim(l),e("#temp-element").html(l);l=e("#temp-element").html();e("#temp-element").remove();var h=l,y=e("<textarea id='temp-pre'>"),g=e("<textarea>");e("body").append(g),e("body").append(y),y.html(h),i=(i=y.text()).trim(),copyTheCode.trim_lines&&(i=i.replace(/^(?=\n)$|\s*$|\n\n+/gm,""))&&(i=(i=(i=i.split("\n")).map((e=>e.trim()))).join("\n")),g.val(i).select(),CopyTheCodeToClipboard.copy(i.trim()),g.remove(),y.remove(),o.text(p),setTimeout((function(){o.text(a)}),1e3)},copyCode:function(t){t.preventDefault();var o=e(this),a=o.text(),n=o.parents(".copy-the-code-wrap"),c=n.attr("data-selector")||"",p=n.attr("data-button-text")||"",i=n.attr("data-button-position")||"",r=n.attr("data-button-copy-text")||"",d=n.attr("data-button-title")||"",l=n.attr("data-style")||"";if(copy_format=n.attr("data-copy-format")||"",c.indexOf(" ")>=0)var s=o.parents(".copy-the-code-wrap");else s=o.parents(".copy-the-code-wrap").find(c);if("google-docs"===copy_format){"inside"===i&&e(".copy-the-code-button").hide();var m=document.createRange();m.selectNode(s[0]),window.getSelection().addRange(m),document.execCommand("copy"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),"inside"===i&&e(".copy-the-code-button").show()}else{var u=s.html(),h=CopyTheCode._getButtonMarkup(d,p,l);u=u.replace(h,"");let t=CopyTheCode._getImages(u);if(t&&t.map((function(e){let t=CopyTheCode._getAlt(e);if(t){let o=t[0];o=o.replaceAll('"',""),o=o.replaceAll("'",""),o=o.replaceAll("alt=",""),u=u.replaceAll(e,o)}})),copyTheCode.remove_spaces&&(u=u.replace(/^(?=\n)$|\s*$|\n\n+/gm,"")),"html"!==copyTheCode.copy_content_as){var y=/<p\s*[\/]?>/gi;u=(u=(u=u.replace(/<br\s*[\/]?>/gi,"\n")).replace(/<div\s*[\/]?>/gi,"\n")).replace(y,"\n");y=/<li\s*[\/]?>/gi;u=(u=u.replace(y,"\n")).replace(/(<([^>]+)>)/gi,"")}var g=new RegExp("/^s+$/");u=u.replace(g,"");var v=e("<div id='temp-element'></div>");e("body").append(v),u=e.trim(u),e("#temp-element").html(u);u=e("#temp-element").html();e("#temp-element").remove();var C=u;g=new RegExp("/^s+$/");C=(C=C.replace(g,"")).replace(p,"");var b=e("<textarea id='temp-pre'>"),f=e("<textarea>");e("body").append(f),e("body").append(b);var T=b.html(C).text();T=e.trim(T),f.val(T).select(),CopyTheCodeToClipboard.copy(T),f.remove(),b.remove()}o.text(r),setTimeout((function(){"svg-icon"===l?o.html(copyTheCode.buttonSvg):o.text(a)}),1e3)},_getImages:e=>e.match(/<img\s+[^>]*?src=("|')([^"']+)">/gi),_getAlt:e=>e.match(/alt=("|')([^"']+)"|'/gi)},e((function(){CopyTheCode.init()}))}(jQuery);