/*! Lity - LiquidThemes Modification - v3.0.0-dev - 2020-11-02
 * http://sorgalla.com/lity/
 * Copyright (c) 2015-2020 Jan Sorgalla; Licensed MIT */
!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],(function(n){return t(e,n)})):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e,require("jquery")):e.lity=t(e,e.jQuery||e.Zepto)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";function n(e){var t=v();return E&&e.length?(e.one(E,t.resolve),setTimeout(t.resolve,500)):t.resolve(),t.promise()}function i(e,n,i){if(1===arguments.length)return t.extend({},e);if("string"==typeof n){if(void 0===i)return void 0===e[n]?null:e[n];e[n]=i}else t.extend(e,n);return this}function r(e){var t=e.indexOf("?");t>-1&&(e=e.substr(t+1));for(var n,i=decodeURI(e.split("#")[0]).split("&"),r={},o=0,a=i.length;o<a;o++)i[o]&&(r[(n=i[o].split("="))[0]]=n[1]);return r}function o(e,n){if(!n)return e;if("string"===t.type(n)&&(n=r(n)),e.indexOf("?")>-1){var i=e.split("?");e=i.shift(),n=t.extend({},r(i[0]),n)}return e+"?"+t.param(n)}function a(e,t,n,i){return t&&t.element().addClass("lity-iframe"),n&&(e=o(e,n)),i&&(e=function(e,t){var n=e.indexOf("#");return-1===n?t:(n>0&&(e=e.substr(n)),t+e)}(i,e)),'<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen allow="autoplay; fullscreen" src="'+e+'"/></div>'}function l(e,n){var i=n.opener()&&n.opener().data("lity-desc")||"Image with no description",r=t('<img src="'+e+'" alt="'+i+'"/>'),o=v(),a=function(){o.reject(function(e){return t('<span class="lity-error"></span>').append(e)}("Failed loading image"))};return r.on("load",(function(){if(0===this.naturalWidth)return a();o.resolve(r)})).on("error",a),o.promise()}function s(){return h.documentElement.clientHeight?h.documentElement.clientHeight:Math.round(m.height())}function d(e){var t=f();t&&(27===e.keyCode&&t.options("esc")&&t.close(),9===e.keyCode&&function(e,t){var n=t.element().find(b),i=n.index(h.activeElement);e.shiftKey&&i<=0?(n.get(n.length-1).focus(),e.preventDefault()):e.shiftKey||i!==n.length-1||(n.get(0).focus(),e.preventDefault())}(e,t))}function c(){t.each(x,(function(e,t){t.resize()}))}function u(e){1===x.unshift(e)&&(g.addClass("lity-active"),m.on({resize:c,keydown:d}))}function f(){return 0===x.length?null:x[0]}function y(e,r,o,a){var l,d,c,f=this,y=!1,p=!1;r=t.extend({},w,r),d=t(r.template),f.element=function(){return d},f.opener=function(){return o},f.content=function(){return c},f.options=t.proxy(i,f,r),f.handlers=t.proxy(i,f,r.handlers),f.resize=function(){y&&!p&&c.css("max-height",s()+"px").trigger("lity:resize",[f])},f.close=function(){if(y&&!p){p=!0;var e=v();if(a&&(h.activeElement===d[0]||t.contains(d[0],h.activeElement)))try{a.focus()}catch(e){}return c.trigger("lity:close",[f]),d.removeClass("lity-opened lity-iframe").addClass("lity-closed"),n(c.add(d)).always((function(){c.trigger("lity:remove",[f]),d=void 0,e.resolve()})),e.promise()}},l=function(e,n,i,r){var o,a="inline",l=t.extend({},i);return r&&l[r]?(o=l[r](e,n),a=r):(console.log(l),t.each(["inline","iframe"],(function(e,t){delete l[t],l[t]=i[t]})),t.each(l,(function(t,i){return!i||!(!i.test||i.test(e,n))||(!1!==(o=i(e,n))?(a=t,!1):void 0)}))),{handler:a,content:o||""}}(e,f,r.handlers,r.handler),d.addClass("lity-loading lity-opened lity-"+l.handler).removeClass("lity-closed").focus().on("click","[data-lity-close]",(function(e){t(e.target).is("[data-lity-close]")&&f.close()})).trigger("lity:open",[f]),u(f),t.when(l.content).always((function(e){c=t(e).css("max-height",s()+"px"),d.find(".lity-loader").each((function(){var e=t(this);n(e).always((function(){e.remove()}))})),d.removeClass("lity-loading").find(".lity-content").empty().append(c),y=!0,c.trigger("lity:ready",[f])}))}function p(e,n,i){e.preventDefault?(e.preventDefault(),e=(i=t(this)).data("lity-target")||i.attr("href")||i.attr("src")):i=t(i);var r=new y(e,t.extend({},i.data("lity-options")||i.data("lity"),n),i,h.activeElement);if(!e.preventDefault)return r}var h=e.document,m=t(e),v=t.Deferred,g=t("html"),x=[],b='a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable],[tabindex]:not([tabindex^="-"])',w={esc:!0,handler:null,handlers:{image:l,inline:function(e,n){var i,r,o;try{i=t(e)}catch(e){return!1}return!!i.length&&(r=t('<i style="display:none !important"></i>'),o=i.hasClass("lity-hide"),n.element().one("lity:remove",(function(){r.before(i).remove(),o&&!i.closest(".lity-content").length&&i.addClass("lity-hide")})),i.removeClass("lity-hide").after(r))},iframe:function(e,t){return a(e,t)}},template:".lity"},C=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,E=function(){var e=h.createElement("div"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return t[n];return!1}();return l.test=function(e){return C.test(e)},p.version="@VERSION",p.options=t.proxy(i,p,w),p.handlers=t.proxy(i,p,w.handlers),p.current=f,p.iframe=a,t(h).on("click.lity","[data-lity]",p),p}));