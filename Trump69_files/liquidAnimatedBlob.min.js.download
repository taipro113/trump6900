!function(t){"use strict";const e="liquidAnimatedBlob";let n={id:"lqd-blob-"+100*Math.random().toFixed(2),width:512,height:512,radius:120,speed:1,amplitude:2,anchorPoints:4,gradientType:"linear",colors:["#50F6C2","#80FFF2"]};class a{constructor(t,a){this._defaults=n,this._name=e,this.options={...n,...a},this.DOM={},this.DOM.element=t,this.DOM.svg=this.DOM.element.querySelector("svg"),this.DOM.svg&&(this.gradientPath=`lqd-blob-gradient-${this.options.id}`,fastdomPromised.mutate((()=>{this.init()})))}init(){const{width:t,height:e,amplitude:n,radius:a,anchorPoints:i}=this.options,s="http://www.w3.org/2000/svg",o=this.DOM.svg,h=t/2-.95*a,r=e/2-1.5*a,c=a/Math.max(Math.min(i,7),4)*n,d=document.createElementNS(s,"defs");o.appendChild(d),d.appendChild(this.createGradient(s));const l=document.createElementNS(s,"g");o.appendChild(l);const u=document.createElementNS(s,"path");u.setAttributeNS(null,"fill",`url(${window.location.href}#${this.gradientPath})`),l.appendChild(u);const p=o&&i*a===o.hash&&o.nodes||this.createNodes(a,h,r,c),m=o&&i*a===o.hash&&o.controlPoints||this.createControlPoints(p,a,h,r);this.drawBlobPath(p,m,u),o.nodes=p,o.controlPoints=m,o.hash=i*a,this.update(p,m,c),this.drawBlobPath(p,m,u)}createGradient(t){const{colors:e}=this.options,n=document.createElementNS(t,`${this.options.gradientType}Gradient`);return n.setAttributeNS(null,"id",this.gradientPath),e.forEach(((a,i)=>{const s=document.createElementNS(t,"stop");s.setAttributeNS(null,"offset",i/(e.length-1)*100+"%"),s.setAttributeNS(null,"stop-color",a),n.appendChild(s)})),n}createNodes(t,e,n){let a,i,s,o=this.options.anchorPoints,h=[],r=2*t;for(let c=0;c<o;c++)a=c/(o/2)*Math.PI,i=t*Math.cos(a)+r/2,s=t*Math.sin(a)+r/2,h.push({id:c,x:i+e,y:s+n,prevX:i+e,prevY:s+n,nextX:i+e,nextY:s+n,baseX:i+e,baseY:s+n,angle:a});return h}createControlPoints(t,e,n,a){const i=4/3*Math.tan(Math.PI/(2*this.options.anchorPoints))*e,s={c1x:t[0].x,c1y:t[0].y-i,c2x:t[0].x,c2y:t[0].y+i};return t.map(((t,i)=>{if(0===i)return s;{const i=-t.angle,o=this.rotate(e+n,e+a,s.c1x,s.c1y,i),h=this.rotate(e+n,e+a,s.c2x,s.c2y,i);return{c1x:o[0],c1y:o[1],c2x:h[0],c2y:h[1]}}}))}update(t,e,n){t.forEach(((a,i)=>{if(Math.abs(t[i].nextX-t[i].x)<10){const e=(~~(5*Math.random())-2)*Math.random()*n/2;t[i].prevX=t[i].x,t[i].nextX=t[i].baseX+e}if(Math.abs(t[i].nextY-t[i].y)<10){const e=(~~(5*Math.random())-2)*Math.random()*n/2;t[i].prevY=t[i].y,t[i].nextY=t[i].baseY+e}const s=t[i].nextX-t[i].prevX,o=t[i].nextY-t[i].prevY;let h=1-(t[i].nextX-t[i].x)/s,r=1-(t[i].nextY-t[i].y)/o;const c=this.ease(h>0?h:.2)*s,d=this.ease(r>0?r:.2)*o;t[i].x+=c,t[i].y+=d,e[i].c1x+=c,e[i].c1y+=d,e[i].c2x+=c,e[i].c2y+=d})),this.updateAF=requestAnimationFrame(this.update.bind(this,t,e,n))}drawBlobPath(t,e,n){n.setAttributeNS(null,"d",`\n\t\t\t\tM${t[t.length-1].x} ${t[t.length-1].y}\n\t\t\t\t${t.map(((t,n)=>`\n\t\t\t\tC ${0===n?e[e.length-1].c2x:e[n-1].c2x} ${0===n?e[e.length-1].c2y:e[n-1].c2y}, ${e[n].c1x} ${e[n].c1y}, ${t.x} ${t.y}\n\t\t\t\t`)).join("")}\n\t\t\t\tZ\n\t\t\t`),this.drawBlobPathAF=requestAnimationFrame(this.drawBlobPath.bind(this,t,e,n))}ease(t){return-(Math.cos(Math.PI/2*t*5)-2)/256*this.options.speed}rotate(t,e,n,a,i){const s=Math.cos(i),o=Math.sin(i);return[s*(n-t)+o*(a-e)+t,s*(a-e)-o*(n-t)+e]}destroy(){this.updateAF&&cancelAnimationFrame(this.updateAF),this.drawBlobPathAF&&cancelAnimationFrame(this.drawBlobPathAF)}}t.fn[e]=function(n){return this.each((function(){const i={...t(this).data("blob-options"),...n};t.data(this,"plugin_"+e)||t.data(this,"plugin_"+e,new a(this,i))}))}}(jQuery),jQuery(document).ready((function(t){t("[data-lqd-animated-blob]").liquidAnimatedBlob()}));